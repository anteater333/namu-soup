"use strict";(self.webpackChunknamu_soup=self.webpackChunknamu_soup||[]).push([[518],{3518:function(e,t,n){n.r(t);var s=n(5861),r=n(885),a=n(4687),i=n.n(a),c=n(9396),o=n(2791),u=n(9186),l=n(3360),m=n(5247),d=n(5267),f=n(923),x=n(6871),h=n(2426),p=n.n(h),v=(n(3528),n(3692)),b=n(2499),j=n(6907),Z=n(3713),N=n(4893),w=n(184);t.default=function(){var e=(0,o.useState)(""),t=(0,r.Z)(e,2),n=t[0],a=t[1],h=(0,o.useState)(!1),k=(0,r.Z)(h,2),g=k[0],y=k[1],S=(0,o.useState)(""),E=(0,r.Z)(S,2),M=E[0],C=E[1],L=(0,o.useState)(-1),D=(0,r.Z)(L,2),z=D[0],F=D[1],P=(0,o.useState)(""),q=(0,r.Z)(P,2),K=q[0],R=q[1],_=(0,x.UO)()["*"],A=(0,Z.NL)(),B=(0,o.useRef)(null),I=(0,N.a)({queryKey:["memos"],queryFn:function(){return c.Z.getMemoList(_)}}),O=I.data,T=I.error,X=I.isLoading,H=I.isError;(0,o.useEffect)((function(){H&&404===T.response.status&&(location.href="/namu-soup")}),[T,H,_]),(0,o.useEffect)((function(){var e=function(e){"Escape"===e.key&&(e.preventDefault(),y(!1))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),(0,o.useEffect)((function(){window.matchMedia("(max-width: 800px)").matches&&window.scrollTo(0,g?document.body.scrollHeight:0)}),[g]),(0,o.useEffect)((function(){g&&B.current.focus()}),[g]);var Q,U=function(){var e=(0,s.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=3;break}return a("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 3:if(!(M.length>140)){e.next=6;break}return a("\ub0b4\uc6a9\uc774 \ub108\ubb34 \uae41\ub2c8\ub2e4."),e.abrupt("return");case 6:return e.next=8,c.Z.writeMemo(_,K,M,z);case 8:if((t=e.sent)[0]){e.next=28;break}e.t0=t[1],e.next="notFound"===e.t0?13:"duplicated"===e.t0?16:"missed"===e.t0?18:"tooLong"===e.t0?21:"tooMany"===e.t0?23:25;break;case 13:return a(""),W(),e.abrupt("break",26);case 16:return a("\uac19\uc740 \ub0b4\uc6a9\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4."),e.abrupt("break",26);case 18:return a("\uc557"),C(""),e.abrupt("break",26);case 21:return a("\ub0b4\uc6a9\uc774 \ub108\ubb34 \uae41\ub2c8\ub2e4."),e.abrupt("break",26);case 23:return a("\uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824\uc8fc\uc138\uc694."),e.abrupt("break",26);case 25:a("\uc54c \uc218 \uc5c6\ub294 \uc624\ub958 \ubc1c\uc0dd");case 26:e.next=30;break;case 28:a(""),y(!1);case 30:A.invalidateQueries("memos");case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){y(!g)};g&&(Q=(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"input-form-container",children:[(0,w.jsx)(u.Z.Control,{ref:B,className:"input-form-control",as:"input",value:M,placeholder:"\uc9e7\uace0 \uac04\uacb0\ud558\uac8c \uc801\uc5b4\ubd05\uc2dc\ub2e4.",onChange:function(e){C(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),U())}}),(0,w.jsxs)("div",{className:"input-button-container",children:[(0,w.jsx)("div",{className:"input-error-message",children:n}),(0,w.jsxs)("div",{children:[z,"\ubc88 \uc2ac\ub86f"]}),(0,w.jsxs)("div",{className:"input-length-counter",children:[M.length,"/140"]}),(0,w.jsxs)("div",{className:"input-button-inner-container",children:[(0,w.jsx)(l.Z,{className:"soup-button",onClick:U,children:"\uae30\ub85d"}),(0,w.jsx)(l.Z,{className:"soup-button soup-button-reject",onClick:W,children:"\ub2eb\uae30"})]})]})]})}));var G,J=X?v.w.map((function(e){var t=(0,v.X)(1,10);return(0,w.jsxs)(m.Z,{as:"li",className:"memo-list-item-container list-item-container",children:[(0,w.jsx)("div",{className:"memo-list-item list-item-text fw-bold",children:(0,w.jsx)(d.Z,{animation:"glow",xs:9,children:(0,w.jsx)(d.Z,{xs:t,bg:"success"})})}),(0,w.jsx)(l.Z,{className:"soup-button list-item-button fw-bold",children:"\uae30\ub85d"})]},e)})):O[0].map((function(e,t){var n=(0,w.jsx)(l.Z,{className:"soup-button list-item-button fw-bold",onClick:function(){return function(e,t){R(e.uuid),C(e.context?e.context:""),F(t),a(""),y(!g||t!==z),B.current.focus()}(e,t)},children:"\uae30\ub85d"});return e.context?(0,w.jsxs)(m.Z,{as:"li",className:"memo-list-item-container list-item-container",children:[(0,w.jsxs)("div",{className:"memo-list-item list-item-text fw-bold",children:[(0,w.jsx)("div",{className:"memo-text",children:e.context}),(0,w.jsxs)("div",{className:"last-writer",children:[e.lastWriter," -"," ",p()(e.memoAt).tz("Asia/Seoul").format("yyyy-MM-DD hh:mm:ss z")]})]}),n]},e.uuid):(0,w.jsxs)(m.Z,{as:"li",className:"list-item-container",children:[(0,w.jsx)("div",{className:"memo-list-item list-item-text fw-bold",children:(0,w.jsx)("div",{className:"empty-memo-text",children:"< \ube48 \uae30\ub85d \uc2ac\ub86f >"})}),n]},t)}));return T&&(G=(0,w.jsx)("div",{className:"error-page",children:(0,w.jsx)("span",{className:"error-message",children:"\uc11c\ubc84\uc5d0 \uc811\uc18d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."})})),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(j.ql,{children:[(0,w.jsxs)("title",{children:["\uc232Soup - ",_]}),(0,w.jsx)("meta",{name:"description",content:"\ub098\ubb34\uc704\ud0a4 ".concat(_,", \uc232Soup - \ub098\ubb34\uc704\ud0a4 \uc2e4\uc2dc\uac04 \uac80\uc0c9\uc5b4")}),(0,w.jsx)("meta",{name:"keywords",content:"namu, wiki, \uc232, \ub098\ubb34\uc704\ud0a4, \uc778\uae30, \uac80\uc0c9\uc5b4, \uc2e4\uac80, \uc2e4\uc2dc\uac04 \uac80\uc0c9\uc5b4, \uc2e4\uc2dc\uac04 \uc778\uae30 \uac80\uc0c9\uc5b4, \ub098\ubb34\uc704\ud0a4 \uc2e4\uac80 \uc54c\ub824\uc8fc\ub294 \ucc44\ub110, \uc2e4\uac80 \ucc44\ub110, ".concat(_)}),(0,w.jsx)("meta",{property:"og:title",content:"\uc232Soup - ".concat(_)})]}),(0,w.jsxs)("div",{className:"memo-list-scene",children:[(0,w.jsx)("div",{}),(0,w.jsxs)("div",{className:"list-container",children:[G,(0,w.jsx)(f.Z,{as:"ol",children:J}),(0,w.jsx)("a",{href:"https://namu.wiki/w/"+_,target:"_blank",rel:"noreferrer",children:(0,w.jsx)("div",{className:"current-keyword",children:_})}),(0,w.jsxs)("div",{className:"crawled-at",children:["\uae30\uc900 \uc2dc\uac01 : ",X?"":(0,b.Z)(O[1])]})]}),(0,w.jsx)("div",{className:"memo-list-scene-side",children:Q})]})]})}},3692:function(e,t,n){function s(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}n.d(t,{X:function(){return s},w:function(){return r}});var r=[0,1,2,3,4,5,6,7,8,9]},2499:function(e,t,n){n.d(t,{Z:function(){return r}});var s=n(2982);function r(e){var t=(0,s.Z)(e.split(" ")),n=t[0],r=t[1];t[2];return r=r.split(":"),[n,r="".concat(((parseInt(r[0])+9)%24).toString().padStart(2,"0"),":").concat(r[1]),"KST"].join(" ")}},5267:function(e,t,n){n.d(t,{Z:function(){return Z}});var s=n(1413),r=n(5987),a=n(2791),i=n(885),c=n(1694),o=n.n(c),u=n(162),l=n(2677),m=["animation","bg","bsPrefix","size"],d=["className"];function f(e){var t=e.animation,n=e.bg,a=e.bsPrefix,c=e.size,f=(0,r.Z)(e,m);a=(0,u.vE)(a,"placeholder");var x=(0,l.r)(f),h=(0,i.Z)(x,1)[0],p=h.className,v=(0,r.Z)(h,d);return(0,s.Z)((0,s.Z)({},v),{},{className:o()(p,t?"".concat(a,"-").concat(t):a,c&&"".concat(a,"-").concat(c),n&&"bg-".concat(n))})}var x=n(3360),h=n(184),p=a.forwardRef((function(e,t){var n=f(e);return(0,h.jsx)(x.Z,(0,s.Z)((0,s.Z)({},n),{},{ref:t,disabled:!0,tabIndex:-1}))}));p.displayName="PlaceholderButton";var v=p,b=["as"],j=a.forwardRef((function(e,t){var n=e.as,a=void 0===n?"span":n,i=f((0,r.Z)(e,b));return(0,h.jsx)(a,(0,s.Z)((0,s.Z)({},i),{},{ref:t}))}));j.displayName="Placeholder";var Z=Object.assign(j,{Button:v})}}]);
//# sourceMappingURL=518.48a20db8.chunk.js.map